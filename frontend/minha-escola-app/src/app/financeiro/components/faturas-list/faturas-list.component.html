<mat-card>
  <div style="display:flex; gap:12px; align-items:center; justify-content:space-between;">
    <h2 class="page-title">Faturas</h2>
    <div style="display:flex; gap:8px; align-items:center;">
      <mat-form-field appearance="outline">
        <mat-label>Status</mat-label>
        <mat-select [(ngModel)]="status" (selectionChange)="load()">
          <mat-option [value]="''">Todos</mat-option>
          <mat-option value="ABERTA">Aberta</mat-option>
          <mat-option value="PAGA">Paga</mat-option>
          <mat-option value="ATRASADA">Atrasada</mat-option>
          <mat-option value="CANCELADA">Cancelada</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
</mat-card>

<mat-card style="margin-top:12px;">

<table mat-table [dataSource]="dataSource" class="mat-elevation-z2">
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef>ID</th>
    <td mat-cell *matCellDef="let e">{{ e.id }}</td>
  </ng-container>

  <ng-container matColumnDef="matricula">
    <th mat-header-cell *matHeaderCellDef>Matrícula</th>
    <td mat-cell *matCellDef="let e">{{ e.matricula }}</td>
  </ng-container>

  <ng-container matColumnDef="competencia">
    <th mat-header-cell *matHeaderCellDef>Competência</th>
    <td mat-cell *matCellDef="let e">{{ e.competencia | date: 'yyyy-MM' }}</td>
  </ng-container>

  <ng-container matColumnDef="vencimento">
    <th mat-header-cell *matHeaderCellDef>Vencimento</th>
    <td mat-cell *matCellDef="let e">{{ e.vencimento | date }}</td>
  </ng-container>

  <ng-container matColumnDef="valor">
    <th mat-header-cell *matHeaderCellDef>Valor</th>
    <td mat-cell *matCellDef="let e">{{ e.valor }}</td>
  </ng-container>

  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef>Status</th>
    <td mat-cell *matCellDef="let e">{{ e.status }}</td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef>Ações</th>
    <td mat-cell *matCellDef="let e">
      <button mat-raised-button color="primary" (click)="baixar(e)">Baixar</button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>

<mat-paginator [pageSize]="10"></mat-paginator>
</mat-card>
